@startuml INFOTEC Relaciones de Entidades
!theme plain
skinparam backgroundColor #FEFEFE
skinparam class {
    BackgroundColor<<Entity>> #E1F5FE
    BackgroundColor<<Pivot>> #FFF3E0
    BorderColor #1976D2
    ArrowColor #1976D2
}

title INFOTEC - Diagrama de RelaciÃ³n de Entidades

' ============================================================================
' ENTIDADES
' ============================================================================

class Evento <<Entidad>> {
    + id: bigint CP
    --
    + titulo: varchar(255) ğŸ”
    + descripcion: text ğŸ“
    + fecha_inicio: date ğŸ”
    + fecha_fin: date ğŸ”
    + ubicacion: varchar(255)
    --
    + created_at: timestamp
    + updated_at: timestamp
    ==
    <color:blue>**Relaciones**</color>
    + asistentes(): tieneVarios
    + ponentes(): perteneceAVarios
}

class Ponente <<Entidad>> {
    + id: bigint CP
    --
    + nombre: varchar(255)
    + biografia: text ğŸ“
    + especialidad: varchar(255)
    --
    + created_at: timestamp
    + updated_at: timestamp
    ==
    <color:blue>**Relaciones**</color>
    + eventos(): perteneceAVarios
}

class Asistente <<Entidad>> {
    + id: bigint CP
    --
    + nombre: varchar(255)
    + email: varchar(255) âœ‰ï¸
    + telefono: varchar(255)
    + evento_id: bigint CF
    --
    + created_at: timestamp
    + updated_at: timestamp
    ==
    <color:blue>**Relaciones**</color>
    + evento(): pertenece A
}

class EventoPonente <<Tabla Pivote>> {
    + id: bigint CP
    --
    + evento_id: bigint CF
    + ponente_id: bigint CF
    --
    + created_at: timestamp
    + updated_at: timestamp
}

' ============================================================================
' RELATIONSHIPS
' ============================================================================

Evento ||--o{ Asistente : "1:N\n(hasMany/belongsTo)"
Evento ||--o{ EventoPonente : ""
EventoPonente }o--|| Ponente : ""

' ============================================================================
' RELATIONSHIP ANNOTATIONS
' ============================================================================

note on link : <color:green>**CASCADE DELETE**</color>\nWhen evento is deleted,\nall asistentes are deleted

note on link : <color:purple>**MANY-TO-MANY**</color>\nPonentes can participate\nin multiple eventos

' ============================================================================
' CONSTRAINTS NOTES
' ============================================================================

note top of Evento : ğŸ¯ **Event Entity**\nâ€¢ Performance indexes on searchable fields\nâ€¢ TEXT field for long descriptions\nâ€¢ Date validation (no past events)

note top of Ponente : ğŸ‘¨â€ğŸ« **Speaker Entity**\nâ€¢ Can speak at multiple events\nâ€¢ Long biographies supported

note right of Asistente : ğŸ« **Attendee Entity**\nâ€¢ Unique email per event\nâ€¢ CASCADE DELETE with evento

note bottom of EventoPonente : ğŸ”— **Pivot Table**\nâ€¢ Unique (evento_id, ponente_id)\nâ€¢ CASCADE DELETE from both sides

' ============================================================================
' LEGEND
' ============================================================================

legend bottom left
    <color:blue>**Symbols Legend**</color>
    ğŸ” = Indexed field
    ğŸ“ = TEXT field (long content)
    âœ‰ï¸ = Email field (validated)
    PK = Primary Key
    FK = Foreign Key
    
    <color:green>**Relationship Types**</color>
    1:N = One-to-Many
    M:N = Many-to-Many (via pivot)
endlegend

@enduml